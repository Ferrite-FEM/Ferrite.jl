<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Ferrite changelog · Ferrite.jl</title><meta name="title" content="Ferrite changelog · Ferrite.jl"/><meta property="og:title" content="Ferrite changelog · Ferrite.jl"/><meta property="twitter:title" content="Ferrite changelog · Ferrite.jl"/><meta name="description" content="Documentation for Ferrite.jl."/><meta property="og:description" content="Documentation for Ferrite.jl."/><meta property="twitter:description" content="Documentation for Ferrite.jl."/><meta property="og:url" content="https://ferrite-fem.github.io/Ferrite.jl/stable/changelog/"/><meta property="twitter:url" content="https://ferrite-fem.github.io/Ferrite.jl/stable/changelog/"/><link rel="canonical" href="https://ferrite-fem.github.io/Ferrite.jl/stable/changelog/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/custom.css" rel="stylesheet" type="text/css"/><link href="../assets/citations.css" rel="stylesheet" type="text/css"/><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="Ferrite.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Ferrite.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../tutorials/">Tutorials overview</a></li><li><a class="tocitem" href="../tutorials/heat_equation/">Heat equation</a></li><li><a class="tocitem" href="../tutorials/linear_elasticity/">Linear elasticity</a></li><li><a class="tocitem" href="../tutorials/incompressible_elasticity/">Incompressible elasticity</a></li><li><a class="tocitem" href="../tutorials/hyperelasticity/">Hyperelasticity</a></li><li><a class="tocitem" href="../tutorials/plasticity/">Von Mises plasticity</a></li><li><a class="tocitem" href="../tutorials/transient_heat_equation/">Transient heat equation</a></li><li><a class="tocitem" href="../tutorials/computational_homogenization/">Computational homogenization</a></li><li><a class="tocitem" href="../tutorials/stokes-flow/">Stokes flow</a></li><li><a class="tocitem" href="../tutorials/porous_media/">Porous media</a></li><li><a class="tocitem" href="../tutorials/ns_vs_diffeq/">Incompressible Navier-Stokes equations via DifferentialEquations.jl</a></li><li><a class="tocitem" href="../tutorials/reactive_surface/">Reactive surface</a></li><li><a class="tocitem" href="../tutorials/linear_shell/">Linear shell</a></li><li><a class="tocitem" href="../tutorials/dg_heat_equation/">Discontinuous Galerkin heat equation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Topic guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../topics/">Topic guide overview</a></li><li><a class="tocitem" href="../topics/fe_intro/">Introduction to FEM</a></li><li><a class="tocitem" href="../topics/reference_shapes/">Reference shapes</a></li><li><a class="tocitem" href="../topics/FEValues/">FEValues</a></li><li><a class="tocitem" href="../topics/degrees_of_freedom/">Degrees of Freedom</a></li><li><a class="tocitem" href="../topics/sparse_matrix/">Sparsity pattern and sparse matrices</a></li><li><a class="tocitem" href="../topics/assembly/">Assembly</a></li><li><a class="tocitem" href="../topics/boundary_conditions/">Initial and Boundary Conditions</a></li><li><a class="tocitem" href="../topics/constraints/">Constraints</a></li><li><a class="tocitem" href="../topics/grid/">Grid</a></li><li><a class="tocitem" href="../topics/export/">Export</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">API reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../reference/">Reference overview</a></li><li><a class="tocitem" href="../reference/quadrature/">Quadrature</a></li><li><a class="tocitem" href="../reference/interpolations/">Interpolation</a></li><li><a class="tocitem" href="../reference/fevalues/">FEValues</a></li><li><a class="tocitem" href="../reference/dofhandler/">Degrees of Freedom</a></li><li><a class="tocitem" href="../reference/sparsity_pattern/">Sparsity pattern and sparse matrices</a></li><li><a class="tocitem" href="../reference/assembly/">Assembly</a></li><li><a class="tocitem" href="../reference/boundary_conditions/">Boundary Conditions</a></li><li><a class="tocitem" href="../reference/grid/">Grid &amp; AbstractGrid</a></li><li><a class="tocitem" href="../reference/export/">Postprocessing</a></li><li><a class="tocitem" href="../reference/utils/">Development utility functions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">How-to guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../howto/">How-to guide overview</a></li><li><a class="tocitem" href="../howto/postprocessing/">Post processing and visualization</a></li><li><a class="tocitem" href="../howto/threaded_assembly/">Multi-threaded assembly</a></li></ul></li><br><li><a class="tocitem" href="../gallery/">Code gallery</a></li><li><a class="tocitem" href="../devdocs/">Developer documentation</a></li><li><a class="tocitem" href="../cited-literature/">Cited literature</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Ferrite changelog</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Ferrite changelog</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Ferrite-FEM/Ferrite.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/master/docs/src/changelog.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Ferrite-changelog"><a class="docs-heading-anchor" href="#Ferrite-changelog">Ferrite changelog</a><a id="Ferrite-changelog-1"></a><a class="docs-heading-anchor-permalink" href="#Ferrite-changelog" title="Permalink"></a></h1><p>All notable changes to this project will be documented in this file.</p><p>The format is based on <a href="https://keepachangelog.com/en/1.0.0/">Keep a Changelog</a>, and this project adheres to <a href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a>.</p><ul><li><a href="#Version-1.0.0-Work-in-progress,-release-date-TBD">Version 1.0.0 - Work in progress, release date TBD</a></li><li><a href="#Version-0.3.14-2023-04-03">Version 0.3.14 - 2023-04-03</a></li><li><a href="#Version-0.3.13-2023-03-23">Version 0.3.13 - 2023-03-23</a></li><li><a href="#Version-0.3.12-2023-02-28">Version 0.3.12 - 2023-02-28</a></li><li><a href="#Version-0.3.11-2023-01-17">Version 0.3.11 - 2023-01-17</a></li><li><a href="#Version-0.3.10-2022-12-11">Version 0.3.10 - 2022-12-11</a></li><li><a href="#Version-0.3.9-2022-10-19">Version 0.3.9 - 2022-10-19</a></li><li><a href="#Version-0.3.8-2022-10-05">Version 0.3.8 - 2022-10-05</a></li><li><a href="#Version-0.3.7-2022-07-05">Version 0.3.7 - 2022-07-05</a></li><li><a href="#Version-0.3.6-2022-06-30">Version 0.3.6 - 2022-06-30</a></li><li><a href="#Version-0.3.5-2022-05-30">Version 0.3.5 - 2022-05-30</a></li><li><a href="#Version-0.3.4-2022-02-25">Version 0.3.4 - 2022-02-25</a></li><li><a href="#Version-0.3.3-2022-02-04">Version 0.3.3 - 2022-02-04</a></li><li><a href="#Version-0.3.2-2022-01-18">Version 0.3.2 - 2022-01-18</a></li></ul><h2 id="Version-1.0.0-Work-in-progress,-release-date-TBD"><a class="docs-heading-anchor" href="#Version-1.0.0-Work-in-progress,-release-date-TBD">Version 1.0.0 - Work in progress, release date TBD</a><a id="Version-1.0.0-Work-in-progress,-release-date-TBD-1"></a><a class="docs-heading-anchor-permalink" href="#Version-1.0.0-Work-in-progress,-release-date-TBD" title="Permalink"></a></h2><p>Ferrite version 1.0 is a relatively large release, with a lot of new features, improvements, deprecations and some removals. These changes are made to make the code base more consistent and more suitable for future improvements. With this 1.0 release we are aiming for long time stability, and there is no breaking release 2.0 on the horizon.</p><p>Unfortunately this means that code written for Ferrite version 0.3 will have to be updated. All changes, with upgrade paths, are listed in the sections below. Since these sections include a lot of other information as well (new features, internal changes, ...) there is also a dedicated section about <a href="#Upgrading-code-from-Ferrite-0.3-to-1.0">Upgrading code from Ferrite 0.3 to 1.0</a> which include the most common changes that are required. In addition, in all cases where possible, you will be presented with a descriptive error message telling you what needs to change.</p><h3 id="Upgrading-code-from-Ferrite-0.3-to-1.0"><a class="docs-heading-anchor" href="#Upgrading-code-from-Ferrite-0.3-to-1.0">Upgrading code from Ferrite 0.3 to 1.0</a><a id="Upgrading-code-from-Ferrite-0.3-to-1.0-1"></a><a class="docs-heading-anchor-permalink" href="#Upgrading-code-from-Ferrite-0.3-to-1.0" title="Permalink"></a></h3><p>This section give a short overview of the most common required changes. More details and motivation are included in the following sections (with links to issues/pull request for more discussion).</p><ul><li><p><strong>Interpolations</strong>: remove the first parameter (the reference dimension) and use new reference shapes.</p><p>Examples:</p><pre><code class="language-diff hljs"># Linear Lagrange interpolation for a line
- Lagrange{1, RefCube, 1}()
+ Lagrange{RefLine, 1}()

# Linear Lagrange interpolation for a quadrilateral
- Lagrange{2, RefCube, 1}()
+ Lagrange{RefQuadrilateral, 1}()

# Quadratic Lagrange interpolation for a triangle
- Lagrange{2, RefTetrahedron, 2}()
+ Lagrange{RefTriangle, 2}()</code></pre><p>For vector valued problems it is now required to explicitly vectorize the interpolation using the new <code>VectorizedInterpolation</code>. This is required when passing the interpolation to <code>CellValues</code> and when adding fields to the <code>DofHandler</code> using <code>add!</code>. In both of these places the interpolation was implicitly vectorized in Ferrite 0.3.</p><p>Examples:</p><pre><code class="language-julia hljs"># Linear Lagrange interpolation for a vector problem on the triangle (vector dimension
# same as the reference dimension)
ip_scalar = Lagrange{RefTriangle, 1}()
ip_vector = ip_scalar ^ 2 # or VectorizedInterpolation{2}(ip_scalar)</code></pre></li><li><p><strong>Quadrature</strong>: remove the first parameter (the reference dimension) and use new reference shapes.</p><p>Examples:</p><pre><code class="language-diff hljs"># Quadrature for a line
- QuadratureRule{1, RefCube}(quadrature_order)
+ QuadratureRule{RefLine}(quadrature_order)

# Quadrature for a quadrilateral
- QuadratureRule{2, RefCube}(quadrature_order)
+ QuadratureRule{RefQuadrilateral}(quadrature_order)

# Quadrature for a tetrahedron
- QuadratureRule{3, RefTetrahedron}(quadrature_order)
+ QuadratureRule{RefTetrahedron}(quadrature_order)</code></pre></li><li><p><strong>Quadrature for face integration (FacetValues)</strong>: replace <code>QuadratureRule{dim-1, reference_shape}(quadrature_order)</code> with <code>FacetQuadratureRule{reference_shape}(quadrature_order)</code>.</p><p>Examples:</p><pre><code class="language-diff hljs"># Quadrature for the facets of a quadrilateral
- QuadratureRule{1, RefCube}(quadrature_order)
+ FacetQuadratureRule{RefQuadrilateral}(quadrature_order)

# Quadrature for the facets of a triangle
- QuadratureRule{1, RefTetrahedron}(quadrature_order)
+ FacetQuadratureRule{RefTriangle}(quadrature_order)

# Quadrature for the facets of a hexhedron
- QuadratureRule{2, RefCube}(quadrature_order)
+ FacetQuadratureRule{RefHexahedron}(quadrature_order)</code></pre></li><li><p><strong>CellValues</strong>: replace usage of <code>CellScalarValues</code> <em>and</em> <code>CellVectorValues</code> with <code>CellValues</code>. For vector valued problems the interpolation passed to <code>CellValues</code> should be vectorized to a <code>VectorizedInterpolation</code> (see above).</p><p>Examples:</p><pre><code class="language-diff hljs"># CellValues for a scalar problem with triangle elements
- qr = QuadratureRule{2, RefTetrahedron}(quadrature_order)
- ip = Lagrange{2, RefTetrahedron, 1}()
- cv = CellScalarValues(qr, ip)
+ qr = QuadratureRule{RefTriangle}(quadrature_order)
+ ip = Lagrange{RefTriangle, 1}()
+ cv = CellValues(qr, ip)

# CellValues for a vector problem with hexahedronal elements
- qr = QuadratureRule{3, RefCube}(quadrature_order)
- ip = Lagrange{3, RefCube, 1}()
- cv = CellVectorValues(qr, ip)
+ qr = QuadratureRule{RefHexahedron}(quadrature_order)
+ ip = Lagrange{RefHexahedron, 1}() ^ 3
+ cv = CellValues(qr, ip)</code></pre><p>If you use <code>CellScalarValues</code> or <code>CellVectorValues</code> in method signature you must replace them with <code>CellValues</code>. Note that the type parameters are different.</p><p>Examples:</p><pre><code class="language-diff hljs">- function do_something(cvs::CellScalarValues, cvv::CellVectorValues)
+ function do_something(cvs::CellValues, cvv::CellValues)</code></pre><p>The default geometric interpolation have changed from the function interpolation to always use linear Lagrange interpolation. If you use linear elements in the grid, and a higher order interpolation for the function you can now rely on the new default:</p><pre><code class="language-diff hljs">qr = QuadratureRule(...)
- ip_function = Lagrange{2, RefTetrahedron, 2}()
- ip_geometry = Lagrange{2, RefTetrahedron, 1}()
- cv = CellScalarValues(qr, ip_function, ip_geometry)
+ ip_function = Lagrange{2, RefTetrahedron, 2}()
+ cv = CellValues(qr, ip_function)</code></pre><p>and if you have quadratic (or higher order) elements in the grid you must now pass the corresponding interpolation to the constructor:</p><pre><code class="language-diff hljs">qr = QuadratureRule(...)
- ip_function = Lagrange{2, RefTetrahedron, 2}()
- cv = CellScalarValues(qr, ip_function)
+ ip_function = Lagrange{2, RefTetrahedron, 2}()
+ ip_geometry = Lagrange{2, RefTetrahedron, 1}()
+ cv = CellValues(qr, ip_function, ip_geometry)</code></pre></li><li><p><strong>FacetValues</strong>: replace usage of <code>FaceScalarValues</code> <em>and</em> <code>FaceVectorValues</code> with <code>FacetValues</code>. For vector valued problems the interpolation passed to <code>FacetValues</code> should be vectorized to a <code>VectorizedInterpolation</code> (see above). The input quadrature rule should be a <code>FacetQuadratureRule</code> instead of a <code>QuadratureRule</code>.</p><p>Examples:</p><pre><code class="language-diff hljs"># FacetValues for a scalar problem with triangle elements
- qr = QuadratureRule{1, RefTetrahedron}(quadrature_order)
- ip = Lagrange{2, RefTetrahedron, 1}()
- cv = FaceScalarValues(qr, ip)
+ qr = FacetQuadratureRule{RefTriangle}(quadrature_order)
+ ip = Lagrange{RefTriangle, 1}()
+ cv = FacetValues(qr, ip)

# FaceValues for a vector problem with hexahedronal elements
- qr = QuadratureRule{2, RefCube}(quadrature_order)
- ip = Lagrange{3, RefCube, 1}()
- cv = FaceVectorValues(qr, ip)
+ qr = FacetQuadratureRule{RefHexahedron}(quadrature_order)
+ ip = Lagrange{RefHexahedron, 1}() ^ 3
+ cv = FacetValues(qr, ip)</code></pre></li><li><p><strong>DofHandler construction</strong>: it is now required to pass the interpolation explicitly when adding new fields using <code>add!</code> (previously it was optional, defaulting to the default interpolation of the elements in the grid). For vector-valued fields the interpolation should be vectorized, instead of passing the number of components to <code>add!</code> as an integer.</p><p>Examples:</p><pre><code class="language-diff hljs">dh = DofHandler(grid) # grid with triangles

# Vector field :u
- add!(dh, :u, 2)
+ add!(dh, :u, Lagrange{RefTriangle, 1}()^2)

# Scalar field :p
- add!(dh, :u, 1)
+ add!(dh, :u, Lagrange{RefTriangle, 1}())</code></pre></li><li><p><strong>Boundary conditions</strong>: The entity enclosing a cell was previously called <code>face</code>, but is now denoted a <code>facet</code>. When applying boundary conditions, rename  <code>getfaceset</code> to <code>getfacetset</code> and <code>addfaceset!</code> is now <code>addfacetset!</code>. These sets are now described by <code>FacetIndex</code> instead of <code>FaceIndex</code>. When looping over the <code>facets</code> of a cell, change <code>nfaces</code> to <code>nfacets</code>.</p><p>Examples:</p><pre><code class="language-diff hljs"># Dirichlet boundary conditions
- addfaceset!(grid, &quot;dbc&quot;, x -&gt; x[1] ≈ 1.0)
+ addfacetset!(grid, &quot;dbc&quot;, x -&gt; x[1] ≈ 1.0)

- dbc = Dirichlet(:u, getfaceset(grid, &quot;dbc&quot;), Returns(0.0))
+ dbc = Dirichlet(:u, getfacetset(grid, &quot;dbc&quot;), Returns(0.0))

# Neumann boundary conditions
- for facet in 1:nfaces(cell)
-     if (cellid(cell), facet) ∈ getfaceset(grid, &quot;Neumann Boundary&quot;)
+ for facet in 1:nfacets(cell)
+     if (cellid(cell), facet) ∈ getfacetset(grid, &quot;Neumann Boundary&quot;)
          # ...</code></pre></li><li><p><strong>VTK Export</strong>: The VTK export has been changed <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/692">#692</a>.</p><pre><code class="language-diff hljs">- vtk_grid(name, dh) do vtk
-     vtk_point_data(vtk, dh, a)
-     vtk_point_data(vtk, nodal_data, &quot;my node data&quot;)
-     vtk_point_data(vtk, proj, projected_data, &quot;my projected data&quot;)
-     vtk_cell_data(vtk, proj, projected_data, &quot;my projected data&quot;)
+ VTKGridFile(name, dh) do vtk
+     write_solution(vtk, dh, a)
+     write_node_data(vtk, nodal_data, &quot;my node data&quot;)
+     write_projection(vtk, proj, projected_data, &quot;my projected data&quot;)
+     write_cell_data(vtk, cell_data, &quot;my projected data&quot;)
end</code></pre><p>When using a <code>paraview_collection</code> collection for e.g. multiple timesteps the <code>VTKGridFile</code> object can be used instead of the previous type returned from <code>vtk_grid</code>.</p></li><li><p><strong>Sparsity pattern and global matrix construction</strong>: since there is now explicit support for working with the sparsity pattern before instantiating a matrix the function <code>create_sparsity_pattern</code> has been removed. To recover the old functionality that return a sparse matrix from the DofHandler directly use <code>allocate_matrix</code> instead.</p><p>Examples:</p><pre><code class="language-diff hljs"># Create sparse matrix from DofHandler
- K = create_sparsity_pattern(dh)
+ K = allocate_matrix(dh)

# Create condensed sparse matrix from DofHandler + ConstraintHandler
- K = create_sparsity_pattern(dh, ch)
+ K = allocate_matrix(dh, ch)</code></pre></li></ul><h3 id="Added"><a class="docs-heading-anchor" href="#Added">Added</a><a id="Added-1"></a><a class="docs-heading-anchor-permalink" href="#Added" title="Permalink"></a></h3><ul><li><p><code>InterfaceValues</code> for computing jumps and averages over interfaces. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/743">#743</a>)</p></li><li><p><code>InterfaceIterator</code> and <code>InterfaceCache</code> for iterating over interfaces. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/747">#747</a>)</p></li><li><p><code>FacetQuadratureRule</code> implementation for <code>RefPrism</code> and <code>RefPyramid</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/779">#779</a>)</p></li><li><p>The <code>DofHandler</code> now support selectively adding fields on sub-domains (rather than the full domain). This new functionality is included with the new <code>SubDofHandler</code> struct, which, as the name suggest, is a <code>DofHandler</code> for a subdomain. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/624">#624</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/667">#667</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/735">#735</a>)</p></li><li><p>New reference shape structs <code>RefLine</code>, <code>RefTriangle</code>, <code>RefQuadrilateral</code>, <code>RefTetrahedron</code>, <code>RefHexahedron</code>, and <code>RefPrism</code> have been added. These encode the reference dimension, and will thus replace the old reference shapes for which it was necessary to always pair with an explicit dimension (i.e. <code>RefLine</code> replaces <code>(RefCube, 1)</code>, <code>RefTriangle</code> replaces <code>(RefTetrahedron, 2)</code>, etc.). For writing &quot;dimension independent code&quot; it is possible to use <code>Ferrite.RefHypercube{dim}</code> and <code>Ferrite.RefSimplex{dim}</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/679">#679</a>)</p></li><li><p>New methods for adding entitysets that are located on the boundary of the grid: <code>addboundaryfacetset!</code> and <code>addboundaryvertexset!</code>. These work similar to <code>addfacetset!</code> and <code>addvertexset!</code>, but filters out all instances not on the boundary (this can be used to avoid accidental inclusion of internal entities in sets used for boundary conditions, for example). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/606">#606</a>)</p></li><li><p>New interpolation <code>VectorizedInterpolation</code> which vectorizes scalar interpolations for vector-valued problems. A <code>VectorizedInterpolation</code> is created from a (scalar) interpolation <code>ip</code> using either <code>ip ^ dim</code> or <code>VectorizedInterpolation{dim}(ip)</code>. For convenience, the method <code>VectorizedInterpolation(ip)</code> vectorizes the interpolation to the reference dimension of the interpolation. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/694">#694</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/736">#736</a>)</p></li><li><p>New (scalar) interpolation <code>Lagrange{RefQuadrilateral, 3}()</code>, i.e. third order Lagrange interpolation for 2D quadrilaterals. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/701">#701</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/731">#731</a>)</p></li><li><p><code>CellValues</code> now support embedded elements. Specifically you can now embed elements with reference dimension 1 into spatial dimension 2 or 3, and elements with reference dimension 2 in to spatial dimension 3. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/651">#651</a>)</p></li><li><p><code>CellValues</code> now support (vector) interpolations with dimension different from the spatial dimension. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/651">#651</a>)</p></li><li><p><code>FacetQuadratureRule</code> have been added and should be used for <code>FacetValues</code>. A <code>FacetQuadratureRule</code> for integration of the facets of e.g. a triangle can be constructed by <code>FacetQuadratureRule{RefTriangle}(order)</code> (similar to how <code>QuadratureRule</code> is constructed). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/716">#716</a>)</p></li><li><p>New functions <code>Ferrite.reference_shape_value(::Interpolation, ξ::Vec, i::Int)</code> and <code>Ferrite.reference_shape_gradient(::Interpolation, ξ::Vec, i::Int)</code> for evaluating the value/gradient of the <code>i</code>th shape function of an interpolation in local reference coordinate <code>ξ</code>. These methods are public but not exported. (Note that these methods return the value/gradient wrt. the reference coordinate <code>ξ</code>, whereas the corresponding methods for <code>CellValues</code> etc return the value/gradient wrt the spatial coordinate <code>x</code>.) (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/721">#721</a>)</p></li><li><p><code>FacetIterator</code> and <code>FacetCache</code> have been added. These work similarly to <code>CellIterator</code> and <code>CellCache</code> but are used to iterate over (boundary) face sets instead. These simplify boundary integrals in general, and in particular Neumann boundary conditions are more convenient to implement now that you can loop directly over the face set instead of checking all faces of a cell inside the element routine. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/495">#495</a>)</p></li><li><p>The <code>ConstraintHandler</code> now support adding Dirichlet boundary conditions on discontinuous interpolations. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/729">#729</a>)</p></li><li><p><code>collect_periodic_faces</code> now have a keyword argument <code>tol</code> that can be used to relax the default tolerance when necessary. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/749">#749</a>)</p></li><li><p>VTK export now work with <code>QuadraticHexahedron</code> elements. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/714">#714</a>)</p></li><li><p>The function <code>bounding_box(::AbstractGrid)</code> has been added. It computes the bounding box for a given grid (based on its node coordinates), and returns the minimum and maximum vertices of the bounding box. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/880">#880</a>)</p></li><li><p>Support for working with sparsity patterns has been added. This means that Ferrite exposes the intermediate &quot;state&quot; between the DofHandler and the instantiated matrix as the new struct <code>SparsityPattern</code>. This make it possible to insert custom equations or couplings in the pattern before instantiating the matrix. The function <code>create_sparsity_pattern</code> have been removed. The new function <code>allocate_matrix</code> is instead used to instantiate the matrix. Refer to the documentation for more details. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/888">#888</a>)</p><p><strong>To upgrade</strong>: if you want to recover the old functionality and don&#39;t need to work with the pattern, replace any usage of <code>create_sparsity_pattern</code> with <code>allocate_matrix</code>.</p></li><li><p>A new function, <code>geometric_interpolation</code>, is exported, which gives the geometric interpolation for each cell type. This is equivalent to the deprecated <code>Ferrite.default_interpolation</code> function. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/953">#953</a>)</p></li><li><p>CellValues and FacetValues can now store and map second order gradients (Hessians). The number of gradients computed in CellValues/FacetValues is specified using the keyword arguments <code>update_gradients::Bool</code> (default true) and <code>update_hessians::Bool</code> (default false) in the constructors, i.e. <code>CellValues(...; update_hessians=true)</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/953">#953</a>)</p></li><li><p><code>L2Projector</code> supports projecting on grids with mixed celltypes. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/949">#949</a>)</p></li></ul><h3 id="Changed"><a class="docs-heading-anchor" href="#Changed">Changed</a><a id="Changed-1"></a><a class="docs-heading-anchor-permalink" href="#Changed" title="Permalink"></a></h3><ul><li><p>It is now possible to create sparsity patterns with interface couplings, see the new function <code>add_interface_entries!</code> and the rework of sparsity pattern construction. ([#710][github-#710])</p></li><li><p>The <code>AbstractCell</code> interface has been reworked. This change should not affect user code, but may in some cases be relevant for code parsing external mesh files. In particular, the generic <code>Cell</code> struct have been removed in favor of concrete cell implementations (<code>Line</code>, <code>Triangle</code>, ...). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/679">#679</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/712">#712</a>)</p><p><strong>To upgrade</strong> replace any usage of <code>Cell{...}(...)</code> with calls to the concrete implementations.</p></li><li><p>The default geometric mapping in <code>CellValues</code> and <code>FacetValues</code> have changed. The new default is to always use <code>Lagrange{refshape, 1}()</code>, i.e. linear Lagrange polynomials, for the geometric interpolation. Previously, the function interpolation was (re) used also for the geometry interpolation. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/695">#695</a>)</p><p><strong>To upgrade</strong>, if you relied on the previous default, simply pass the function interpolation also as the third argument (the geometric interpolation).</p></li><li><p>All interpolations are now categorized as either scalar or vector interpolations. All (previously) existing interpolations are scalar. (Scalar) interpolations must now be explicitly vectorized, using the new <code>VectorizedInterpolation</code>, when used for vector problems. (Previously implicit vectorization happened in the <code>CellValues</code> constructor, and when adding fields to the <code>DofHandler</code>). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/694">#694</a>)</p></li><li><p>It is now required to explicitly pass the interpolation to the <code>DofHandler</code> when adding a new field using <code>add!</code>. For vector fields the interpolation should be vectorized, instead of passing number of components as an integer. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/694">#694</a>)</p><p><strong>To upgrade</strong> don&#39;t pass the dimension as an integer, and pass the interpolation explicitly. See more details in <a href="#Upgrading-code-from-Ferrite-0.3-to-1.0">Upgrading code from Ferrite 0.3 to 1.0</a>.</p></li><li><p><code>Interpolation</code>s should now be constructed using the new reference shapes. Since the new reference shapes encode the reference dimension the first type parameter of interpolations have been removed. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/711">#711</a>) <strong>To upgrade</strong> replace e.g. <code>Lagrange{1, RefCube, 1}()</code> with <code>Lagrange{RefLine, 1}()</code>, and <code>Lagrange{2, RefTetrahedron, 1}()</code> with <code>Lagrange{RefTriangle, 1}()</code>, etc.</p></li><li><p><code>QuadratureRule</code>s should now be constructed using the new reference shapes. Since the new reference shapes encode the reference dimension the first type parameter of <code>QuadratureRule</code> have been removed. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/711">#711</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/716">#716</a>) <strong>To upgrade</strong> replace e.g. <code>QuadratureRule{1, RefCube}(order)</code> with <code>QuadratureRule{RefLine}(order)</code>, and <code>QuadratureRule{2, RefTetrahedron}(1)</code> with <code>Lagrange{RefTriangle}(order)</code>, etc.</p></li><li><p><code>CellScalarValues</code> and <code>CellVectorValues</code> have been merged into <code>CellValues</code>, <code>FaceScalarValues</code> and <code>FaceVectorValues</code> have been merged into <code>FacetValues</code>, and <code>PointScalarValues</code> and <code>PointVectorValues</code> have been merged into <code>PointValues</code>. The differentiation between scalar and vector have thus been moved to the interpolation (see above). Note that previously <code>CellValues</code>, <code>FaceValues</code>, and <code>PointValues</code> where abstract types, but they are now concrete implementations with <em>different type parameters</em>, except <code>FaceValues</code> which is now <code>FacetValues</code> (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/708">#708</a>) <strong>To upgrade</strong>, for scalar problems, it is enough to replace <code>CellScalarValues</code> with <code>CellValues</code>, <code>FaceScalarValues</code> with <code>FacetValues</code> and <code>PointScalarValues</code> with <code>PointValues</code>, respectively. For vector problems, make sure to vectorize the interpolation (see above) and then replace <code>CellVectorValues</code> with <code>CellValues</code>, <code>FaceVectorValues</code> with <code>FacetValues</code>, and <code>PointVectorValues</code> with <code>PointValues</code>.</p></li><li><p>The quadrature rule passed to <code>FacetValues</code> should now be of type <code>FacetQuadratureRule</code> rather than of type <code>QuadratureRule</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/716">#716</a>) <strong>To upgrade</strong> replace the quadrature rule passed to <code>FacetValues</code> with a <code>FacetQuadratureRule</code>.</p></li><li><p>Checking if a face <code>(ele_id, local_face_id) ∈ faceset</code> has been previously implemented by type piracy. In order to be invariant to the underlying <code>Set</code> datatype as well as omitting type piracy, (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/835">#835</a>) implemented <code>isequal</code> and <code>hash</code> for <code>BoundaryIndex</code> datatypes.</p></li><li><p><strong>VTK export</strong>: Ferrite no longer extends <code>WriteVTK.vtk_grid</code> and associated functions, instead the new type <code>VTKGridFile</code> should be used instead. New methods exists for writing to a <code>VTKGridFile</code>, e.g. <code>write_solution</code>, <code>write_cell_data</code>, <code>write_node_data</code>, and <code>write_projection</code>. See <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/692">#692</a>.</p></li><li><p><strong>Definitions</strong>: Previously, <code>face</code> and <code>edge</code> referred to codimension 1 relative reference shape. In Ferrite v1, <code>volume</code>, <code>face</code>, <code>edge</code>, and <code>vertex</code> refer to 3, 2, 1, and 0 dimensional entities, and <code>facet</code> replaces the old definition of <code>face</code>. No direct replacement for <code>edges</code> exits. See <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/914">#914</a> and <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/914">#914</a>. The main implications of this change are</p><ul><li><code>FaceIndex</code> -&gt; <code>FacetIndex</code> (<code>FaceIndex</code> still exists, but has a different meaning)</li><li><code>FaceValues</code> -&gt; <code>FacetValues</code></li><li><code>nfaces</code> -&gt; <code>nfacets</code> (<code>nfaces</code> is now an internal method with different meaning)</li><li><code>addfaceset!</code> -&gt; <code>addfacetset</code></li><li><code>getfaceset</code> -&gt; <code>getfacetset</code></li></ul><p>Furthermore, subtypes of <code>Interpolation</code> should now define <code>vertexdof_indices</code>, <code>edgedof_indices</code>, <code>facedof_indices</code>, <code>volumedof_indices</code> (and similar) according to these definitions.</p></li><li><p><code>Ferrite.getdim</code> has been changed into <code>Ferrite.getrefdim</code> for getting the dimension of the reference shape and <code>Ferrite.getspatialdim</code> to get the spatial dimension (of the grid). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/943">#943</a>)</p></li><li><p><code>Ferrite.getfielddim(::AbstractDofHandler, args...)</code> has been renamed to <code>Ferrite.n_components</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/943">#943</a>)</p></li><li><p>The constructor for <code>ExclusiveTopology</code> only accept an <code>AbstractGrid</code> as input, removing the alternative of providing a <code>Vector{&lt;:AbstractCell}</code>, as knowing the spatial dimension is required for correct code paths. Furthermore, it uses a new internal data structure, <code>ArrayOfVectorViews</code>, to store the neighborhood information more efficiently The datatype for the neighborhood has thus changed to a view of a vector, instead of the now removed <code>EntityNeighborhood</code> container. This also applies to <code>vertex_star_stencils</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/974">#974</a>).</p></li><li><p><code>project(::L2Projector, data, qr_rhs)</code> now expects data to be indexed by the cellid, as opposed to the index in the vector of cellids passed to the <code>L2Projector</code>. The data may be passed as an <code>AbstractDict{Int, &lt;:AbstractVector}</code>, as an alternative to <code>AbstractArray{&lt;:AbstractVector}</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/949">#949</a>)</p></li></ul><h3 id="Deprecated"><a class="docs-heading-anchor" href="#Deprecated">Deprecated</a><a id="Deprecated-1"></a><a class="docs-heading-anchor-permalink" href="#Deprecated" title="Permalink"></a></h3><ul><li><p>The rarely (if ever) used methods of <code>function_value</code>, <code>function_gradient</code>, <code>function_divergence</code>, and <code>function_curl</code> taking <em>vectorized dof values</em> as in put have been deprecated. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/698">#698</a>)</p></li><li><p>The function <code>reshape_to_nodes</code> have been deprecated in favor of <code>evaluate_at_grid_nodes</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/703">#703</a>)</p></li><li><p><code>start_assemble(f, K)</code> have been deprecated in favor of the &quot;canonical&quot; <code>start_assemble(K, f)</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/707">#707</a>)</p></li><li><p><code>end_assemble</code> have been deprecated in favor of <code>finish_assemble</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/754">#754</a>)</p></li><li><p><code>get_point_values</code> have been deprecated in favor of <code>evaluate_at_points</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/754">#754</a>)</p></li><li><p><code>transform!</code> have been deprecated in favor of <code>transform_coordinates!</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/754">#754</a>)</p></li><li><p><code>Ferrite.default_interpolation</code> has been deprecated in favor of <code>geometric_interpolation</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/953">#953</a>)</p></li></ul><h3 id="Removed"><a class="docs-heading-anchor" href="#Removed">Removed</a><a id="Removed-1"></a><a class="docs-heading-anchor-permalink" href="#Removed" title="Permalink"></a></h3><ul><li><p><code>MixedDofHandler</code> + <code>FieldHandler</code> have been removed in favor of <code>DofHandler</code> + <code>SubDofHandler</code>. Note that the syntax has changed, and note that <code>SubDofHandler</code> is much more capable compared to <code>FieldHandler</code>. Previously it was often required to pass both the <code>MixedDofHandler</code> and the <code>FieldHandler</code> to e.g. the assembly routine, but now it is enough to pass the <code>SubDofHandler</code> since it can be used for e.g. DoF queries etc. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/624">#624</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/667">#667</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/735">#735</a>)</p></li><li><p>Some old methods to construct the <code>L2Projector</code> have been removed after being deprecated for several releases. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/697">#697</a>)</p></li><li><p>The option <code>project_to_nodes</code> have been removed from <code>project(::L2Projector, ...)</code>. The returned values are now always ordered according to the projectors internal <code>DofHandler</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/699">#699</a>)</p></li><li><p>The function <code>compute_vertex_values</code> have been removed. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/700">#700</a>)</p></li><li><p>The names <code>getweights</code>, <code>getpoints</code>, <code>getcellsets</code>, <code>getnodesets</code>, <code>getfacesets</code>, <code>getedgesets</code>, and <code>getvertexsets</code> have been removed from the list of exported names. (For now you can still use them by prefixing <code>Ferrite.</code>, e.g. <code>Ferrite.getweights</code>.) (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/754">#754</a>)</p></li><li><p>The <code>onboundary</code> function (and the associated <code>boundary_matrix</code> property of the <code>Grid</code> datastructure) have been removed (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/924">#924</a>). Instead of first checking <code>onboundary</code> and then check whether a facet belong to a specific facetset, check the facetset directly. For example:</p><pre><code class="language-diff hljs">- if onboundary(cell, local_face_id) &amp;&amp; (cell_id, local_face_id) in getfacesets(grid, &quot;traction_boundary&quot;)
+ if (cell_id, local_face_id) in getfacesets(grid, &quot;traction_boundary&quot;)
     # integrate the &quot;traction_boundary&quot; boundary
  end</code></pre></li></ul><h3 id="Fixed"><a class="docs-heading-anchor" href="#Fixed">Fixed</a><a id="Fixed-1"></a><a class="docs-heading-anchor-permalink" href="#Fixed" title="Permalink"></a></h3><ul><li><p>Benchmarks now work with master branch. ([#751][github-#751], [#855][github-#855])</p></li><li><p>Topology construction have been generalized to, in particular, fix construction for 1D and for wedge elements. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/641">#641</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/670">#670</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/684">#684</a>)</p></li></ul><h3 id="Other-improvements"><a class="docs-heading-anchor" href="#Other-improvements">Other improvements</a><a id="Other-improvements-1"></a><a class="docs-heading-anchor-permalink" href="#Other-improvements" title="Permalink"></a></h3><ul><li><p>Documentation:</p><ul><li>The documentation is now structured according to the Diataxis framework. There is now also clear separation between tutorials (for teaching) and code gallery (for showing off). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/737">#737</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/756">#756</a>)</li><li>New section in the developer documentation that describes the (new) reference shapes and their numbering scheme. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/688">#688</a>)</li></ul></li><li><p>Performance:</p><ul><li><code>Ferrite.transform!(grid, f)</code> (for transforming the node coordinates in the <code>grid</code> according to a function <code>f</code>) is now faster and allocates less. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/675">#675</a>)</li><li>Slight performance improvement in construction of <code>PointEvalHandler</code> (faster reverse coordinate lookup). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/719">#719</a>)</li><li>Various performance improvements to topology construction. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/753">#753</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/759">#759</a>)</li></ul></li><li><p>Internal improvements:</p><ul><li>The dof distribution interface have been updated to support higher order elements (future work). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/627">#627</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/732">#732</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/733">#733</a>)</li><li>The <code>AbstractGrid</code> and <code>AbstractDofHandler</code> interfaces are now used more consistently internally. This will help with the implementation of distributed grids and DofHandlers. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/655">#655</a>)</li><li>VTK export now uses the (geometric) interpolation directly when evaluating the finite element field instead of trying to work backwards how DoFs map to nodes. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/703">#703</a>)</li><li>Improved bounds checking in <code>assemble!</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/706">#706</a>)</li><li>Internal methods <code>Ferrite.value</code> and <code>Ferrite.derivative</code> for computing the value/gradient of <em>all</em> shape functions have been removed. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/720">#720</a>)</li><li><code>Ferrite.create_incidence_matrix</code> now work with any <code>AbstractGrid</code> (not just <code>Grid</code>). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/726">#726</a>)</li></ul></li></ul><h2 id="Version-0.3.14-2023-04-03"><a class="docs-heading-anchor" href="#Version-0.3.14-2023-04-03">Version 0.3.14 - 2023-04-03</a><a id="Version-0.3.14-2023-04-03-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.3.14-2023-04-03" title="Permalink"></a></h2><h3 id="Added-2"><a class="docs-heading-anchor" href="#Added-2">Added</a><a class="docs-heading-anchor-permalink" href="#Added-2" title="Permalink"></a></h3><ul><li>Support reordering dofs of a <code>MixedDofHandler</code> by the built-in orderings <code>FieldWise</code> and <code>ComponentWise</code>. This includes support for reordering dofs of fields on subdomains. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/645">#645</a>)</li><li>Support specifying the coupling between fields in a <code>MixedDofHandler</code> when creating the sparsity pattern. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/650">#650</a>)</li><li>Support Metis dof reordering with coupling information for <code>MixedDofHandler</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/650">#650</a>)</li><li>Pretty printing for <code>MixedDofHandler</code> and <code>L2Projector</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/465">#465</a>)</li></ul><h3 id="Other-improvements-2"><a class="docs-heading-anchor" href="#Other-improvements-2">Other improvements</a><a class="docs-heading-anchor-permalink" href="#Other-improvements-2" title="Permalink"></a></h3><ul><li>The <code>MixedDofHandler</code> have gone through a performance review (see <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/629">#629</a>) and now performs the same as <code>DofHandler</code>. This was part of the push to merge the two DoF handlers. Since <code>MixedDofHandler</code> is strictly more flexible, and now equally performant, it will replace <code>DofHandler</code> in the next breaking release. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/637">#637</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/639">#639</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/642">#642</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/643">#643</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/656">#656</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/660">#660</a>)</li></ul><h3 id="Internal-changes"><a class="docs-heading-anchor" href="#Internal-changes">Internal changes</a><a id="Internal-changes-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-changes" title="Permalink"></a></h3><p>Changes listed here should not affect regular usage, but listed here in case you have been poking into Ferrite internals:</p><ul><li><code>Ferrite.ndim(dh, fieldname)</code> has been removed, use <code>Ferrite.getfielddim(dh, fieldname)</code> instead. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/658">#658</a>)</li><li><code>Ferrite.nfields(dh)</code> has been removed, use <code>length(Ferrite.getfieldnames(dh))</code> instead. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/444">#444</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/653">#653</a>)</li><li><code>getfielddims(::FieldHandler)</code> and <code>getfieldinterpolations(::FieldHandler)</code> have been removed (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/647">#647</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/659">#659</a>)</li></ul><h2 id="Version-0.3.13-2023-03-23"><a class="docs-heading-anchor" href="#Version-0.3.13-2023-03-23">Version 0.3.13 - 2023-03-23</a><a id="Version-0.3.13-2023-03-23-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.3.13-2023-03-23" title="Permalink"></a></h2><h3 id="Added-3"><a class="docs-heading-anchor" href="#Added-3">Added</a><a class="docs-heading-anchor-permalink" href="#Added-3" title="Permalink"></a></h3><ul><li>Support for classical trilinear and triquadratic wedge elements. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/581">#581</a>)</li><li>Symmetric quadrature rules up to order 10 for prismatic elements. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/581">#581</a>)</li><li>Finer granulation of dof distribution, allowing to distribute different amounts of dofs per entity. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/581">#581</a>)</li></ul><h3 id="Fixed-2"><a class="docs-heading-anchor" href="#Fixed-2">Fixed</a><a class="docs-heading-anchor-permalink" href="#Fixed-2" title="Permalink"></a></h3><ul><li>Dof distribution for embedded elements. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/581">#581</a>)</li><li>Improve numerical accuracy in shape function evaluation for the <code>Lagrange{2,Tetrahedron,(3|4|5)}</code> interpolations. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/582">#582</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/633">#633</a>)</li></ul><h3 id="Other-improvements-3"><a class="docs-heading-anchor" href="#Other-improvements-3">Other improvements</a><a class="docs-heading-anchor-permalink" href="#Other-improvements-3" title="Permalink"></a></h3><ul><li>Documentation:<ul><li>New &quot;Developer documentation&quot; section in the manual for documenting Ferrite.jl internals and developer tools. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/611">#611</a>)</li><li>Fix a bug in constraint computation in Stoke&#39;s flow example. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/614">#614</a>)</li></ul></li><li>Performance:<ul><li>Benchmarking infrastructure to help tracking performance changes. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/388">#388</a>)</li><li>Performance improvements for various accessor functions for <code>MixedDofHandler</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/621">#621</a>)</li></ul></li></ul><h3 id="Internal-changes-2"><a class="docs-heading-anchor" href="#Internal-changes-2">Internal changes</a><a class="docs-heading-anchor-permalink" href="#Internal-changes-2" title="Permalink"></a></h3><ul><li>To clarify the dof management <code>vertices(ip)</code>, <code>edges(ip)</code> and <code>faces(ip)</code> has been deprecated in favor of <code>vertexdof_indices(ip)</code>, <code>edgedof_indices(ip)</code> and <code>facedof_indices(ip)</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/581">#581</a>)</li><li>Duplicate grid representation has been removed from the <code>MixedDofHandler</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/577">#577</a>)</li></ul><h2 id="Version-0.3.12-2023-02-28"><a class="docs-heading-anchor" href="#Version-0.3.12-2023-02-28">Version 0.3.12 - 2023-02-28</a><a id="Version-0.3.12-2023-02-28-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.3.12-2023-02-28" title="Permalink"></a></h2><h3 id="Added-4"><a class="docs-heading-anchor" href="#Added-4">Added</a><a class="docs-heading-anchor-permalink" href="#Added-4" title="Permalink"></a></h3><ul><li>Added a basic <code>show</code> method for assemblers. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/598">#598</a>)</li></ul><h3 id="Fixed-3"><a class="docs-heading-anchor" href="#Fixed-3">Fixed</a><a class="docs-heading-anchor-permalink" href="#Fixed-3" title="Permalink"></a></h3><ul><li>Fix an issue in constraint application of <code>Symmetric</code>-wrapped sparse matrices (i.e. obtained from <code>create_symmatric_sparsity_pattern</code>). In particular, <code>apply!(K::Symmetric, f, ch)</code> would incorrectly modify <code>f</code> if any of the constraints were inhomogeneous. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/592">#592</a>)</li><li>Properly disable the Metis extension on Julia 1.9 instead of causing precompilation errors. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/588">#588</a>)</li><li>Fix adding Dirichlet boundary conditions on nodes when using MixedDofHandler. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/593">#593</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/594">#594</a>)</li><li>Fix accidentally slow implementation of <code>show</code> for <code>Grid</code>s. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/599">#599</a>)</li><li>Fixes to topology functionality. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/453">#453</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/518">#518</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/455">#455</a>)</li><li>Fix grid coloring for cell sets with 0 or 1 cells. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/600">#600</a>)</li></ul><h3 id="Other-improvements-4"><a class="docs-heading-anchor" href="#Other-improvements-4">Other improvements</a><a class="docs-heading-anchor-permalink" href="#Other-improvements-4" title="Permalink"></a></h3><ul><li>Documentation improvements:<ul><li>Simplications and clarifications to hyperelasticity example. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/591">#591</a>)</li><li>Remove duplicate docstring entry for <code>vtk_point_data</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/602">#602</a>)</li><li>Update documentation about initial conditions. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/601">#601</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/604">#604</a>)</li></ul></li></ul><h2 id="Version-0.3.11-2023-01-17"><a class="docs-heading-anchor" href="#Version-0.3.11-2023-01-17">Version 0.3.11 - 2023-01-17</a><a id="Version-0.3.11-2023-01-17-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.3.11-2023-01-17" title="Permalink"></a></h2><h3 id="Added-5"><a class="docs-heading-anchor" href="#Added-5">Added</a><a class="docs-heading-anchor-permalink" href="#Added-5" title="Permalink"></a></h3><ul><li><a href="https://github.com/JuliaSparse/Metis.jl">Metis.jl</a> extension for fill-reducing DoF permutation. This uses Julias new package extension mechanism (requires Julia 1.10) to support a new DoF renumbering order <code>DofOrder.Ext{Metis}()</code> that can be passed to <code>renumber!</code> to renumber DoFs using the Metis.jl library. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/393">#393</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/549">#549</a>)</li><li><a href="https://github.com/JuliaArrays/BlockArrays.jl">BlockArrays.jl</a> extension for creating a globally blocked system matrix. <code>create_sparsity_pattern(BlockMatrix, dh, ch; kwargs...)</code> return a matrix that is blocked by field (requires DoFs to be (re)numbered by field, i.e. <code>renumber!(dh, DofOrder.FieldWise())</code>). For custom blocking it is possible to pass an uninitialized <code>BlockMatrix</code> with the correct block sizes (see <code>BlockArrays.jl</code> docs). This functionality is useful for e.g. special solvers where individual blocks need to be extracted. Requires Julia version 1.9 or above. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/567">#567</a>)</li><li>New function <code>apply_analytical!</code> for setting the values of the degrees of freedom for a specific field according to a spatial function <code>f(x)</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/532">#532</a>)</li><li>New cache struct <code>CellCache</code> to be used when iterating over the cells in a grid or DoF handler. <code>CellCache</code> caches nodes, coordinates, and DoFs, for the cell. The cache <code>cc</code> can be re-initialized for a new cell index <code>ci</code> by calling <code>reinit!(cc, ci)</code>. This can be used as an alternative to <code>CellIterator</code> when more control over which element to loop over is needed. See documentation for <code>CellCache</code> for more information. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/546">#546</a>)</li><li>It is now possible to create the sparsity pattern without constrained entries (they will be zeroed out later anyway) by passing <code>keep_constrained=false</code> to <code>create_sparsity_pattern</code>. This naturally only works together with local condensation of constraints since there won&#39;t be space allocated in the global matrix for the full (i.e. &quot;non-condensed&quot;) element matrix. Creating the matrix without constrained entries reduces the memory footprint, but unless a significant amount of DoFs are constrained (e.g. high mesh resolution at a boundary) the savings are negligible. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/539">#539</a>)</li></ul><h3 id="Changed-2"><a class="docs-heading-anchor" href="#Changed-2">Changed</a><a class="docs-heading-anchor-permalink" href="#Changed-2" title="Permalink"></a></h3><ul><li><code>ConstraintHandler</code>: <code>update!</code> is now called implicitly in <code>close!</code>. This was easy to miss, and somewhat of a strange requirement when solving problems without time stepping. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/459">#459</a>)</li><li>The function for computing the inhomogeneity in a <code>Dirichlet</code> constraint can now be specified as either <code>f(x)</code> or <code>f(x, t)</code>, where <code>x</code> is the spatial coordinate and <code>t</code> the time. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/459">#459</a>)</li><li>The elements of a <code>CellIterator</code> are now <code>CellCache</code> instead of the iterator itself, which was confusing in some cases. This change does not affect typical user code. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/546">#546</a>)</li></ul><h3 id="Deprecated-2"><a class="docs-heading-anchor" href="#Deprecated-2">Deprecated</a><a class="docs-heading-anchor-permalink" href="#Deprecated-2" title="Permalink"></a></h3><ul><li>Adding fields to a DoF handler with <code>push!(dh, ...)</code> has been deprecated in favor of <code>add!(dh, ...)</code>. This is to make it consistent with how constraints are added to a constraint handler. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/578">#578</a>)</li></ul><h3 id="Fixed-4"><a class="docs-heading-anchor" href="#Fixed-4">Fixed</a><a class="docs-heading-anchor-permalink" href="#Fixed-4" title="Permalink"></a></h3><ul><li>Fix <code>shape_value</code> for the linear, discontinuous Lagrange interpolation. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/553">#553</a>)</li><li>Fix <code>reference_coordinate</code> dispatch for discontinuous Lagrange interpolations. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/559">#559</a>)</li><li>Fix <code>show(::Grid)</code> for custom cell types. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/570">#570</a>)</li><li>Fix <code>apply_zero!(Δa, ch)</code> when using inhomogeneous affine constraints (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/575">#575</a>)</li></ul><h3 id="Other-improvements-5"><a class="docs-heading-anchor" href="#Other-improvements-5">Other improvements</a><a class="docs-heading-anchor-permalink" href="#Other-improvements-5" title="Permalink"></a></h3><ul><li>Internal changes defining a new global matrix/vector &quot;interface&quot;. These changes make it easy to enable more array types (e.g. <code>BlockMatrix</code> support added in this release) and solvers in the future. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/562">#562</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/571">#571</a>)</li><li>Performance improvements:<ul><li>Reduced time and memory allocations for global sparse matrix creation (Julia &gt;= 1.10). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/563">#563</a>)</li></ul></li><li>Documentation improvements:<ul><li>Added an overview of the Examples section. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/531">#531</a>)</li><li>Added an example showing topology optimization. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/531">#531</a>)</li><li>Various typo fixes. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/574">#574</a>)</li><li>Fix broken links. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/583">#583</a>)</li></ul></li></ul><h2 id="Version-0.3.10-2022-12-11"><a class="docs-heading-anchor" href="#Version-0.3.10-2022-12-11">Version 0.3.10 - 2022-12-11</a><a id="Version-0.3.10-2022-12-11-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.3.10-2022-12-11" title="Permalink"></a></h2><h3 id="Added-6"><a class="docs-heading-anchor" href="#Added-6">Added</a><a class="docs-heading-anchor-permalink" href="#Added-6" title="Permalink"></a></h3><ul><li>New functions <code>apply_local!</code> and <code>apply_assemble!</code> for applying constraints locally on the element level before assembling to the global system. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/528">#528</a>)</li><li>New functionality to renumber DoFs by fields or by components. This is useful when you need the global matrix to be blocked. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/378">#378</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/545">#545</a>)</li><li>Functionality to renumber DoFs in DofHandler and ConstraintHandler simultaneously: <code>renumber!(dh::DofHandler, ch::ConstraintHandler, order)</code>. Previously renumbering had to be done <em>before</em> creating the ConstraintHandler since otherwise DoF numbers would be inconsistent. However, this was inconvenient in cases where the constraints impact the new DoF order permutation. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/542">#542</a>)</li><li>The coupling between fields can now be specified when creating the global matrix with <code>create_sparsity_pattern</code> by passing a <code>Matrix{Bool}</code>. For example, in a problem with unknowns <code>(u, p)</code> and corresponding test functions <code>(v, q)</code>, if there is no coupling between <code>p</code> and <code>q</code> it is unnecessary to allocate entries in the global matrix corresponding to these DoFs. This can now be communicated to <code>create_sparsity_pattern</code> by passing the coupling matrix <code>[true true; true false]</code> in the keyword argument <code>coupling</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/544">#544</a>)</li></ul><h3 id="Changed-3"><a class="docs-heading-anchor" href="#Changed-3">Changed</a><a class="docs-heading-anchor-permalink" href="#Changed-3" title="Permalink"></a></h3><ul><li>Runtime and allocations for application of boundary conditions in <code>apply!</code> and <code>apply_zero!</code> have been improved. As a result, the <code>strategy</code> keyword argument is obsolete and thus ignored. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/489">#489</a>)</li><li>The internal representation of <code>Dirichlet</code> boundary conditions and <code>AffineConstraint</code>s in the <code>ConstraintHandler</code> have been unified. As a result, conflicting constraints on DoFs are handled more consistently: the constraint added last to the <code>ConstraintHandler</code> now always override any previous constraints. Conflicting constraints could previously cause problems when a DoF where prescribed by both <code>Dirichlet</code> and <code>AffineConstraint</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/529">#529</a>)</li><li>Entries in local matrix/vector are now ignored in the assembly procedure. This allows, for example, using a dense local matrix <code>[a b; c d]</code> even if no entries exist in the global matrix for the <code>d</code> block, i.e. in <code>[A B; C D]</code> the <code>D</code> block is zero, and these global entries might not exist in the sparse matrix. (Such sparsity patterns can now be created by <code>create_sparsity_pattern</code>, see <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/544">#544</a>.) (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/543">#543</a>)</li></ul><h3 id="Fixed-5"><a class="docs-heading-anchor" href="#Fixed-5">Fixed</a><a class="docs-heading-anchor-permalink" href="#Fixed-5" title="Permalink"></a></h3><ul><li>Fix affine constraints with prescribed DoFs in the right-hand-side. In particular, DoFs that are prescribed by just an inhomogeneity are now handled correctly, and nested affine constraints now give an error instead of silently giving the wrong result. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/530">#530</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/535">#535</a>)</li><li>Fixed internal inconsistency in edge ordering for 2nd order RefTetrahedron and RefCube. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/520">#520</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/523">#523</a>)</li></ul><h3 id="Other-improvements-6"><a class="docs-heading-anchor" href="#Other-improvements-6">Other improvements</a><a class="docs-heading-anchor-permalink" href="#Other-improvements-6" title="Permalink"></a></h3><ul><li>Performance improvements:<ul><li>Reduced time and memory allocations in DoF distribution for <code>MixedDofHandler</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/533">#533</a>)</li><li>Reduced time and memory allocations reductions in <code>getcoordinates!</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/536">#536</a>)</li><li>Reduced time and memory allocations in affine constraint condensation. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/537">#537</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/541">#541</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/550">#550</a>)</li></ul></li><li>Documentation improvements:<ul><li>Use <code>:static</code> scheduling for threaded <code>for</code>-loop (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/534">#534</a>)</li><li>Remove use of <code>@inbounds</code> (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/547">#547</a>)</li></ul></li><li>Unification of <code>create_sparsity_pattern</code> methods to remove code duplication between <code>DofHandler</code> and <code>MixedDofHandler</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/538">#538</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/540">#540</a>)</li></ul><h2 id="Version-0.3.9-2022-10-19"><a class="docs-heading-anchor" href="#Version-0.3.9-2022-10-19">Version 0.3.9 - 2022-10-19</a><a id="Version-0.3.9-2022-10-19-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.3.9-2022-10-19" title="Permalink"></a></h2><h3 id="Added-7"><a class="docs-heading-anchor" href="#Added-7">Added</a><a class="docs-heading-anchor-permalink" href="#Added-7" title="Permalink"></a></h3><ul><li>New higher order function interpolations for triangles (<code>Lagrange{2,RefTetrahedron,3}</code>, <code>Lagrange{2,RefTetrahedron,4}</code>, and <code>Lagrange{2,RefTetrahedron,5}</code>). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/482">#482</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/512">#512</a>)</li><li>New Gaussian quadrature formula for triangles up to order 15. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/514">#514</a>)</li><li>Add debug mode for working with Ferrite internals. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/524">#524</a>)</li></ul><h3 id="Changed-4"><a class="docs-heading-anchor" href="#Changed-4">Changed</a><a class="docs-heading-anchor-permalink" href="#Changed-4" title="Permalink"></a></h3><ul><li>The default components to constrain in <code>Dirichlet</code> and <code>PeriodicDirichlet</code> have changed from component 1 to all components of the field. For scalar problems this has no effect. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/506">#506</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/509">#509</a>)</li></ul><h2 id="Version-0.3.8-2022-10-05"><a class="docs-heading-anchor" href="#Version-0.3.8-2022-10-05">Version 0.3.8 - 2022-10-05</a><a id="Version-0.3.8-2022-10-05-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.3.8-2022-10-05" title="Permalink"></a></h2><h3 id="Added-8"><a class="docs-heading-anchor" href="#Added-8">Added</a><a class="docs-heading-anchor-permalink" href="#Added-8" title="Permalink"></a></h3><ul><li>Ferrite.jl now has a logo! (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/464">#464</a>)</li><li>New keyword argument <code>search_nneighbors::Int</code> in <code>PointEvalHandler</code> for specifying how many neighboring elements to consider in the kNN search. The default is still 3 (usually sufficient). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/466">#466</a>)</li><li>The IJV-assembler now support assembling non-square matrices. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/471">#471</a>)</li><li>Periodic boundary conditions have been reworked and generalized. It now supports arbitrary relations between the mirror and image boundaries (e.g. not only translations in x/y/z direction). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/478">#478</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/481">#481</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/496">#496</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/501">#501</a>)</li></ul><h3 id="Fixed-6"><a class="docs-heading-anchor" href="#Fixed-6">Fixed</a><a class="docs-heading-anchor-permalink" href="#Fixed-6" title="Permalink"></a></h3><ul><li>Fix <code>PointEvalHandler</code> when the first point is missing. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/466">#466</a>)</li><li>Fix the ordering of nodes on the face for <code>(Quadratic)Tetrahedron</code> cells. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/475">#475</a>)</li></ul><h3 id="Other-improvements-7"><a class="docs-heading-anchor" href="#Other-improvements-7">Other improvements</a><a class="docs-heading-anchor-permalink" href="#Other-improvements-7" title="Permalink"></a></h3><ul><li>Many improvements to the documentation. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/467">#467</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/473">#473</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/487">#487</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/494">#494</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/500">#500</a>)</li><li>Improved error messages in <code>reinit!</code> when number of geometric base functions and number of element coordinates mismatch. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/469">#469</a>)</li><li>Remove some unnecessary function parametrizations. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/503">#503</a>)</li><li>Remove some unnecessary allocations in grid coloring. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/505">#505</a>)</li><li>More efficient way of creating the sparsity pattern when using <code>AffineConstraints</code> and/or <code>PeriodicDirichlet</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/436">#436</a>)</li></ul><h2 id="Version-0.3.7-2022-07-05"><a class="docs-heading-anchor" href="#Version-0.3.7-2022-07-05">Version 0.3.7 - 2022-07-05</a><a id="Version-0.3.7-2022-07-05-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.3.7-2022-07-05" title="Permalink"></a></h2><h3 id="Fixed-7"><a class="docs-heading-anchor" href="#Fixed-7">Fixed</a><a class="docs-heading-anchor-permalink" href="#Fixed-7" title="Permalink"></a></h3><ul><li>Fix tests for newer version of WriteVTK (no functional change). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/462">#462</a>)</li></ul><h3 id="Other-improvements-8"><a class="docs-heading-anchor" href="#Other-improvements-8">Other improvements</a><a class="docs-heading-anchor-permalink" href="#Other-improvements-8" title="Permalink"></a></h3><ul><li>Various improvements to the heat equation example and the hyperelasticity example in the documentation. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/460">#460</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/461">#461</a>)</li></ul><h2 id="Version-0.3.6-2022-06-30"><a class="docs-heading-anchor" href="#Version-0.3.6-2022-06-30">Version 0.3.6 - 2022-06-30</a><a id="Version-0.3.6-2022-06-30-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.3.6-2022-06-30" title="Permalink"></a></h2><h3 id="Fixed-8"><a class="docs-heading-anchor" href="#Fixed-8">Fixed</a><a class="docs-heading-anchor-permalink" href="#Fixed-8" title="Permalink"></a></h3><ul><li>Fix a bug with <code>L2Projection</code> of mixed grid. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/456">#456</a>)</li></ul><h3 id="Other-improvements-9"><a class="docs-heading-anchor" href="#Other-improvements-9">Other improvements</a><a class="docs-heading-anchor-permalink" href="#Other-improvements-9" title="Permalink"></a></h3><ul><li>Expanded manual section of Dirichlet BCs. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/458">#458</a>)</li></ul><h2 id="Version-0.3.5-2022-05-30"><a class="docs-heading-anchor" href="#Version-0.3.5-2022-05-30">Version 0.3.5 - 2022-05-30</a><a id="Version-0.3.5-2022-05-30-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.3.5-2022-05-30" title="Permalink"></a></h2><h3 id="Added-9"><a class="docs-heading-anchor" href="#Added-9">Added</a><a class="docs-heading-anchor-permalink" href="#Added-9" title="Permalink"></a></h3><ul><li>Functionality for querying information about the grid topology (e.g. neighboring cells, boundaries, ...). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/363">#363</a>)</li></ul><h3 id="Fixed-9"><a class="docs-heading-anchor" href="#Fixed-9">Fixed</a><a class="docs-heading-anchor-permalink" href="#Fixed-9" title="Permalink"></a></h3><ul><li>Fix application of boundary conditions when combining RHSData and affine constraints. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/431">#431</a>)</li></ul><h2 id="Version-0.3.4-2022-02-25"><a class="docs-heading-anchor" href="#Version-0.3.4-2022-02-25">Version 0.3.4 - 2022-02-25</a><a id="Version-0.3.4-2022-02-25-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.3.4-2022-02-25" title="Permalink"></a></h2><h3 id="Added-10"><a class="docs-heading-anchor" href="#Added-10">Added</a><a class="docs-heading-anchor-permalink" href="#Added-10" title="Permalink"></a></h3><ul><li>Affine (linear) constraints between degrees-of-freedom. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/401">#401</a>)</li><li>Periodic Dirichlet boundary conditions. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/418">#418</a>)</li><li>Evaluation of arbitrary quantities in FE space. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/425">#425</a>)</li></ul><h3 id="Changed-5"><a class="docs-heading-anchor" href="#Changed-5">Changed</a><a class="docs-heading-anchor-permalink" href="#Changed-5" title="Permalink"></a></h3><ul><li>Interpolation(s) and the quadrature rule are now stored as part of the <code>CellValues</code> structs (<code>cv.func_interp</code>, <code>cv.geo_interp</code>, and <code>cv.qr</code>). (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/428">#428</a>)</li></ul><h2 id="Version-0.3.3-2022-02-04"><a class="docs-heading-anchor" href="#Version-0.3.3-2022-02-04">Version 0.3.3 - 2022-02-04</a><a id="Version-0.3.3-2022-02-04-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.3.3-2022-02-04" title="Permalink"></a></h2><h3 id="Changed-6"><a class="docs-heading-anchor" href="#Changed-6">Changed</a><a class="docs-heading-anchor-permalink" href="#Changed-6" title="Permalink"></a></h3><ul><li>Verify user input in various functions to eliminate possible out-of-bounds accesses. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/407">#407</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/411">#411</a>)</li></ul><h2 id="Version-0.3.2-2022-01-18"><a class="docs-heading-anchor" href="#Version-0.3.2-2022-01-18">Version 0.3.2 - 2022-01-18</a><a id="Version-0.3.2-2022-01-18-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.3.2-2022-01-18" title="Permalink"></a></h2><h3 id="Added-11"><a class="docs-heading-anchor" href="#Added-11">Added</a><a class="docs-heading-anchor-permalink" href="#Added-11" title="Permalink"></a></h3><ul><li>Support for new interpolation types: <code>DiscontinuousLagrange</code>, <code>BubbleEnrichedLagrange</code>, and <code>CrouzeixRaviart</code>. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/352">#352</a>, <a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/392">#392</a>)</li></ul><h3 id="Changed-7"><a class="docs-heading-anchor" href="#Changed-7">Changed</a><a class="docs-heading-anchor-permalink" href="#Changed-7" title="Permalink"></a></h3><ul><li>Julia version 1.0 is no longer supported for Ferrite versions &gt;= 0.3.2. Use Julia version &gt;= 1.6. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/385">#385</a>)</li><li>Quadrature data for L2 projection can now be given as a matrix of size &quot;number of elements&quot; x &quot;number of quadrature points per element&quot;. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/386">#386</a>)</li><li>Projected values from L2 projection can now be exported directly to VTK. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/390">#390</a>)</li><li>Grid coloring can now act on a subset of cells. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/402">#402</a>)</li><li>Various functions related to cell values now use traits to make it easier to extend and reuse functionality in external code. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/404">#404</a>)</li></ul><h3 id="Fixed-10"><a class="docs-heading-anchor" href="#Fixed-10">Fixed</a><a class="docs-heading-anchor-permalink" href="#Fixed-10" title="Permalink"></a></h3><ul><li>Exporting tensors to VTK now use correct names for the components. (<a href="https://github.com/Ferrite-FEM/Ferrite.jl/pull/406">#406</a>)</li></ul></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Thursday 19 September 2024 14:56">Thursday 19 September 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
