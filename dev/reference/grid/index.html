<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Grid &amp; AbstractGrid · Ferrite.jl</title><meta name="title" content="Grid &amp; AbstractGrid · Ferrite.jl"/><meta property="og:title" content="Grid &amp; AbstractGrid · Ferrite.jl"/><meta property="twitter:title" content="Grid &amp; AbstractGrid · Ferrite.jl"/><meta name="description" content="Documentation for Ferrite.jl."/><meta property="og:description" content="Documentation for Ferrite.jl."/><meta property="twitter:description" content="Documentation for Ferrite.jl."/><meta property="og:url" content="https://ferrite-fem.github.io/Ferrite.jl/stable/reference/grid/"/><meta property="twitter:url" content="https://ferrite-fem.github.io/Ferrite.jl/stable/reference/grid/"/><link rel="canonical" href="https://ferrite-fem.github.io/Ferrite.jl/stable/reference/grid/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/custom.css" rel="stylesheet" type="text/css"/><link href="../../assets/citations.css" rel="stylesheet" type="text/css"/><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="Ferrite.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Ferrite.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/">Tutorials overview</a></li><li><a class="tocitem" href="../../tutorials/heat_equation/">Heat equation</a></li><li><a class="tocitem" href="../../tutorials/linear_elasticity/">Linear elasticity</a></li><li><a class="tocitem" href="../../tutorials/incompressible_elasticity/">Incompressible elasticity</a></li><li><a class="tocitem" href="../../tutorials/hyperelasticity/">Hyperelasticity</a></li><li><a class="tocitem" href="../../tutorials/plasticity/">Von Mises plasticity</a></li><li><a class="tocitem" href="../../tutorials/transient_heat_equation/">Transient heat equation</a></li><li><a class="tocitem" href="../../tutorials/computational_homogenization/">Computational homogenization</a></li><li><a class="tocitem" href="../../tutorials/stokes-flow/">Stokes flow</a></li><li><a class="tocitem" href="../../tutorials/porous_media/">Porous media</a></li><li><a class="tocitem" href="../../tutorials/ns_vs_diffeq/">Incompressible Navier-Stokes equations via DifferentialEquations.jl</a></li><li><a class="tocitem" href="../../tutorials/reactive_surface/">Reactive surface</a></li><li><a class="tocitem" href="../../tutorials/linear_shell/">Linear shell</a></li><li><a class="tocitem" href="../../tutorials/dg_heat_equation/">Discontinuous Galerkin heat equation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Topic guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../topics/">Topic guide overview</a></li><li><a class="tocitem" href="../../topics/fe_intro/">Introduction to FEM</a></li><li><a class="tocitem" href="../../topics/reference_shapes/">Reference shapes</a></li><li><a class="tocitem" href="../../topics/FEValues/">FEValues</a></li><li><a class="tocitem" href="../../topics/degrees_of_freedom/">Degrees of freedom</a></li><li><a class="tocitem" href="../../topics/sparse_matrix/">Sparsity pattern and sparse matrices</a></li><li><a class="tocitem" href="../../topics/assembly/">Assembly</a></li><li><a class="tocitem" href="../../topics/boundary_conditions/">Boundary and initial conditions</a></li><li><a class="tocitem" href="../../topics/constraints/">Affine constraints</a></li><li><a class="tocitem" href="../../topics/grid/">Grid</a></li><li><a class="tocitem" href="../../topics/export/">Export</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">API reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../">Reference overview</a></li><li><a class="tocitem" href="../quadrature/">Quadrature</a></li><li><a class="tocitem" href="../interpolations/">Interpolation</a></li><li><a class="tocitem" href="../fevalues/">FEValues</a></li><li><a class="tocitem" href="../dofhandler/">Degrees of freedom</a></li><li><a class="tocitem" href="../sparsity_pattern/">Sparsity pattern and sparse matrices</a></li><li><a class="tocitem" href="../assembly/">Assembly</a></li><li><a class="tocitem" href="../boundary_conditions/">Boundary conditions</a></li><li class="is-active"><a class="tocitem" href>Grid &amp; AbstractGrid</a><ul class="internal"><li><a class="tocitem" href="#Grid"><span>Grid</span></a></li></ul></li><li><a class="tocitem" href="../export/">Postprocessing</a></li><li><a class="tocitem" href="../utils/">Development utility functions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">How-to guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../howto/">How-to guide overview</a></li><li><a class="tocitem" href="../../howto/postprocessing/">Post processing and visualization</a></li><li><a class="tocitem" href="../../howto/threaded_assembly/">Multi-threaded assembly</a></li></ul></li><br><li><a class="tocitem" href="../../gallery/">Code gallery</a></li><li><a class="tocitem" href="../../devdocs/">Developer documentation</a></li><li><a class="tocitem" href="../../cited-literature/">Cited literature</a></li><li><a class="tocitem" href="../../ferritepapers/">Papers using Ferrite</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API reference</a></li><li class="is-active"><a href>Grid &amp; AbstractGrid</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Grid &amp; AbstractGrid</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Ferrite-FEM/Ferrite.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/master/docs/src/reference/grid.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Grid-and-AbstractGrid"><a class="docs-heading-anchor" href="#Grid-and-AbstractGrid">Grid &amp; AbstractGrid</a><a id="Grid-and-AbstractGrid-1"></a><a class="docs-heading-anchor-permalink" href="#Grid-and-AbstractGrid" title="Permalink"></a></h1><h2 id="Grid"><a class="docs-heading-anchor" href="#Grid">Grid</a><a id="Grid-1"></a><a class="docs-heading-anchor-permalink" href="#Grid" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.generate_grid" href="#Ferrite.generate_grid"><code>Ferrite.generate_grid</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">generate_grid(celltype::Cell, nel::NTuple, [left::Vec, right::Vec)</code></pre><p>Return a <code>Grid</code> for a rectangle in 1, 2 or 3 dimensions. <code>celltype</code> defined the type of cells, e.g. <code>Triangle</code> or <code>Hexahedron</code>. <code>nel</code> is a tuple of the number of elements in each direction. <code>left</code> and <code>right</code> are optional endpoints of the domain. Defaults to -1 and 1 in all directions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid_generators.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.Node" href="#Ferrite.Node"><code>Ferrite.Node</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Node{dim, T}</code></pre><p>A <code>Node</code> is a point in space.</p><p><strong>Fields</strong></p><ul><li><code>x::Vec{dim,T}</code>: stores the coordinates</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L4-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.CellIndex" href="#Ferrite.CellIndex"><code>Ferrite.CellIndex</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A <code>CellIndex</code> wraps an Int and corresponds to a cell with that number in the mesh</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Ferrite.jl#L76-L78">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.VertexIndex" href="#Ferrite.VertexIndex"><code>Ferrite.VertexIndex</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A <code>VertexIndex</code> wraps an (Int, Int) and defines a local vertex by pointing to a (cell, vert).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Ferrite.jl#L97-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.EdgeIndex" href="#Ferrite.EdgeIndex"><code>Ferrite.EdgeIndex</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A <code>EdgeIndex</code> wraps an (Int, Int) and defines a local edge by pointing to a (cell, edge).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Ferrite.jl#L90-L92">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.FaceIndex" href="#Ferrite.FaceIndex"><code>Ferrite.FaceIndex</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A <code>FaceIndex</code> wraps an (Int, Int) and defines a local face by pointing to a (cell, face).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Ferrite.jl#L83-L85">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.FacetIndex" href="#Ferrite.FacetIndex"><code>Ferrite.FacetIndex</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A <code>FacetIndex</code> wraps an (Int, Int) and defines a local facet by pointing to a (cell, facet).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Ferrite.jl#L104-L106">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.Grid" href="#Ferrite.Grid"><code>Ferrite.Grid</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Grid{dim, C&lt;:AbstractCell, T&lt;:Real} &lt;: AbstractGrid}</code></pre><p>A <code>Grid</code> is a collection of <code>Ferrite.AbstractCell</code>s and <code>Ferrite.Node</code>s which covers the computational domain. Helper structures for applying boundary conditions or define subdomains are gathered in <code>cellsets</code>, <code>nodesets</code>, <code>facetsets</code>, and <code>vertexsets</code>.</p><p><strong>Fields</strong></p><ul><li><code>cells::Vector{C}</code>: stores all cells of the grid</li><li><code>nodes::Vector{Node{dim,T}}</code>: stores the <code>dim</code> dimensional nodes of the grid</li><li><code>cellsets::Dict{String, OrderedSet{Int}}</code>: maps a <code>String</code> key to an <code>OrderedSet</code> of cell ids</li><li><code>nodesets::Dict{String, OrderedSet{Int}}</code>: maps a <code>String</code> key to an <code>OrderedSet</code> of global node ids</li><li><code>facetsets::Dict{String, OrderedSet{FacetIndex}}</code>: maps a <code>String</code> to an <code>OrderedSet</code> of <code>FacetIndex</code></li><li><code>vertexsets::Dict{String, OrderedSet{VertexIndex}}</code>: maps a <code>String</code> key to an <code>OrderedSet</code> of <code>VertexIndex</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L354-L368">source</a></section></article><h3 id="Utility-Functions"><a class="docs-heading-anchor" href="#Utility-Functions">Utility Functions</a><a id="Utility-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Utility-Functions" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.getcells" href="#Ferrite.getcells"><code>Ferrite.getcells</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getcells(grid::AbstractGrid)
getcells(grid::AbstractGrid, v::Union{Int,Vector{Int}}
getcells(grid::AbstractGrid, setname::String)</code></pre><p>Returns either all <code>cells::Collection{C&lt;:AbstractCell}</code> of a <code>&lt;:AbstractGrid</code> or a subset based on an <code>Int</code>, <code>Vector{Int}</code> or <code>String</code>. Whereas the last option tries to call a <code>cellset</code> of the <code>grid</code>. <code>Collection</code> can be any indexable type, for <code>Grid</code> it is <code>Vector{C&lt;:AbstractCell}</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L459-L466">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.getncells" href="#Ferrite.getncells"><code>Ferrite.getncells</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Returns the number of cells in the <code>&lt;:AbstractGrid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L470">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.getnodes" href="#Ferrite.getnodes"><code>Ferrite.getnodes</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getnodes(grid::AbstractGrid)
getnodes(grid::AbstractGrid, v::Union{Int,Vector{Int}}
getnodes(grid::AbstractGrid, setname::String)</code></pre><p>Returns either all <code>nodes::Collection{N}</code> of a <code>&lt;:AbstractGrid</code> or a subset based on an <code>Int</code>, <code>Vector{Int}</code> or <code>String</code>. The last option tries to call a <code>nodeset</code> of the <code>&lt;:AbstractGrid</code>. <code>Collection{N}</code> refers to some indexable collection where each element corresponds to a Node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L476-L484">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.getnnodes" href="#Ferrite.getnnodes"><code>Ferrite.getnnodes</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Returns the number of nodes in the grid.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L488">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.nnodes_per_cell" href="#Ferrite.nnodes_per_cell"><code>Ferrite.nnodes_per_cell</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Returns the number of nodes of the <code>i</code>-th cell.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L490">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.getcellset" href="#Ferrite.getcellset"><code>Ferrite.getcellset</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getcellset(grid::AbstractGrid, setname::String)</code></pre><p>Returns all cells as cellid in the set with name <code>setname</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L502-L506">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.getnodeset" href="#Ferrite.getnodeset"><code>Ferrite.getnodeset</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getnodeset(grid::AbstractGrid, setname::String)</code></pre><p>Returns all nodes as nodeid in the set with name <code>setname</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L515-L519">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.getfacetset" href="#Ferrite.getfacetset"><code>Ferrite.getfacetset</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getfacetset(grid::AbstractGrid, setname::String)</code></pre><p>Returns all facets as <code>FacetIndex</code> in the set with name <code>setname</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L528-L532">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.getvertexset" href="#Ferrite.getvertexset"><code>Ferrite.getvertexset</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getvertexset(grid::AbstractGrid, setname::String)</code></pre><p>Returns all vertices as <code>VertexIndex</code> in the set with name <code>setname</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L542-L546">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.transform_coordinates!" href="#Ferrite.transform_coordinates!"><code>Ferrite.transform_coordinates!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">transform_coordinates!(grid::Abstractgrid, f::Function)</code></pre><p>Transform the coordinates of all nodes of the <code>grid</code> based on some transformation function <code>f(x)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L556-L560">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.getcoordinates" href="#Ferrite.getcoordinates"><code>Ferrite.getcoordinates</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getcoordinates(grid::AbstractGrid, idx::Union{Int,CellIndex})
getcoordinates(cache::CellCache)</code></pre><p>Get a vector with the coordinates of the cell corresponding to <code>idx</code> or <code>cache</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L566-L571">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.getcoordinates!" href="#Ferrite.getcoordinates!"><code>Ferrite.getcoordinates!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getcoordinates!(x::Vector{&lt;:Vec}, grid::AbstractGrid, idx::Union{Int,CellIndex})
getcoordinates!(x::Vector{&lt;:Vec}, grid::AbstractGrid, cell::AbstractCell)</code></pre><p>Mutate <code>x</code> to the coordinates of the cell corresponding to <code>idx</code> or <code>cell</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L581-L586">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.geometric_interpolation-Tuple{Ferrite.AbstractCell}" href="#Ferrite.geometric_interpolation-Tuple{Ferrite.AbstractCell}"><code>Ferrite.geometric_interpolation</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">geometric_interpolation(::AbstractCell)::ScalarInterpolation
geometric_interpolation(::Type{&lt;:AbstractCell})::ScalarInterpolation</code></pre><p>Each <code>AbstractCell</code> type has a unique geometric interpolation describing its geometry. This function returns that interpolation, which is always a scalar interpolation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L156-L162">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.get_node_coordinate" href="#Ferrite.get_node_coordinate"><code>Ferrite.get_node_coordinate</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_node_coordinate(::Node)</code></pre><p>Get the value of the node coordinate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L17-L21">source</a></section><section><div><pre><code class="language-julia hljs">get_node_coordinate(grid::AbstractGrid, n::Int)</code></pre><p>Return the coordinate of the <code>n</code>th node in <code>grid</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L600-L604">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.getspatialdim-Tuple{Ferrite.AbstractGrid}" href="#Ferrite.getspatialdim-Tuple{Ferrite.AbstractGrid}"><code>Ferrite.getspatialdim</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Ferrite.getspatialdim(grid::AbstractGrid)</code></pre><p>Get the spatial dimension of the grid, corresponding to the vector dimension of the grid&#39;s coordinates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L430-L434">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.getrefdim-Tuple{Ferrite.AbstractCell}" href="#Ferrite.getrefdim-Tuple{Ferrite.AbstractCell}"><code>Ferrite.getrefdim</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Ferrite.getrefdim(cell::AbstractCell)
Ferrite.getrefdim(::Type{&lt;:AbstractCell})</code></pre><p>Get the reference dimension of the cell, i.e. the dimension of the cell&#39;s reference shape.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/grid.jl#L338-L344">source</a></section></article><h3 id="Topology"><a class="docs-heading-anchor" href="#Topology">Topology</a><a id="Topology-1"></a><a class="docs-heading-anchor-permalink" href="#Topology" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.ExclusiveTopology" href="#Ferrite.ExclusiveTopology"><code>Ferrite.ExclusiveTopology</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ExclusiveTopology(grid::AbstractGrid)</code></pre><p>The <strong>experimental feature</strong> <code>ExclusiveTopology</code> saves topological (connectivity/neighborhood) data of the grid. Only the highest dimensional neighborhood is saved. I.e., if something is connected by a face and an edge, only the face neighborhood is saved. The lower dimensional neighborhood is recomputed when calling getneighborhood if needed.</p><p><strong>Fields</strong></p><ul><li><code>vertex_to_cell::AbstractArray{AbstractVector{Int}, 1}</code>:           global vertex id to all cells containing the vertex</li><li><code>cell_neighbor::AbstractArray{AbstractVector{Int}, 1}</code>:            cellid to all connected cells</li><li><code>face_neighbor::AbstractArray{AbstractVector{FaceIndex}, 2}</code>:      <code>face_neighbor[cellid,   local_face_id]</code>   -&gt; neighboring faces</li><li><code>edge_neighbor::AbstractArray{AbstractVector{EdgeIndex}, 2}</code>:      <code>edge_neighbor[cellid,   local_edge_id]</code>   -&gt; neighboring edges</li><li><code>vertex_neighbor::AbstractArray{AbstractVector{VertexIndex}, 2}</code>:  <code>vertex_neighbor[cellid, local_vertex_id]</code> -&gt; neighboring vertices</li><li><code>face_skeleton::Union{Vector{FaceIndex}, Nothing}</code>:     List of unique faces in the grid given as <code>FaceIndex</code></li><li><code>edge_skeleton::Union{Vector{EdgeIndex}, Nothing}</code>:     List of unique edges in the grid given as <code>EdgeIndex</code></li><li><code>vertex_skeleton::Union{Vector{VertexIndex}, Nothing}</code>: List of unique vertices in the grid given as <code>VertexIndex</code></li></ul><div class="admonition is-warning"><header class="admonition-header">Limitations</header><div class="admonition-body"><p>The implementation only works with conforming grids, i.e. grids without &quot;hanging nodes&quot;. Non-conforming grids will give unexpected results. Grids with embedded cells (different reference dimension compared to the spatial dimension) are not supported, and will error on construction.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/topology.jl#L19-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.getneighborhood" href="#Ferrite.getneighborhood"><code>Ferrite.getneighborhood</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getneighborhood(topology, grid::AbstractGrid, cellidx::CellIndex, include_self=false)
getneighborhood(topology, grid::AbstractGrid, faceidx::FaceIndex, include_self=false)
getneighborhood(topology, grid::AbstractGrid, vertexidx::VertexIndex, include_self=false)
getneighborhood(topology, grid::AbstractGrid, edgeidx::EdgeIndex, include_self=false)</code></pre><p>Returns all connected entities of the same type as defined by the respective topology. If <code>include_self</code> is true, the given entity is included in the returned list as well.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/topology.jl#L5-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.facetskeleton" href="#Ferrite.facetskeleton"><code>Ferrite.facetskeleton</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">facetskeleton(top::ExclusiveTopology, grid::AbstractGrid)</code></pre><p>Materializes the skeleton from the <code>neighborhood</code> information by returning an iterable over the unique facets in the grid, described by <code>FacetIndex</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/topology.jl#L385-L390">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.vertex_star_stencils" href="#Ferrite.vertex_star_stencils"><code>Ferrite.vertex_star_stencils</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">vertex_star_stencils(top::ExclusiveTopology, grid::Grid) -&gt; AbstractVector{AbstractVector{VertexIndex}}</code></pre><p>Computes the stencils induced by the edge connectivity of the vertices.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/topology.jl#L320-L323">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.getstencil" href="#Ferrite.getstencil"><code>Ferrite.getstencil</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getstencil(top::ArrayOfVectorViews{VertexIndex, 1}, grid::AbstractGrid, vertex_idx::VertexIndex) -&gt; AbstractVector{VertexIndex}</code></pre><p>Get an iterateable over the stencil members for a given local entity.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/topology.jl#L347-L350">source</a></section></article><h3 id="Grid-Sets-Utility"><a class="docs-heading-anchor" href="#Grid-Sets-Utility">Grid Sets Utility</a><a id="Grid-Sets-Utility-1"></a><a class="docs-heading-anchor-permalink" href="#Grid-Sets-Utility" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.addcellset!" href="#Ferrite.addcellset!"><code>Ferrite.addcellset!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">addcellset!(grid::AbstractGrid, name::String, cellid::AbstractVecOrSet{Int})
addcellset!(grid::AbstractGrid, name::String, f::function; all::Bool=true)</code></pre><p>Adds a cellset to the grid with key <code>name</code>. Cellsets are typically used to define subdomains of the problem, e.g. two materials in the computational domain. The <code>DofHandler</code> can construct different fields which live not on the whole domain, but rather on a cellset. <code>all=true</code> implies that <code>f(x)</code> must return <code>true</code> for all nodal coordinates <code>x</code> in the cell if the cell should be added to the set, otherwise it suffices that <code>f(x)</code> returns <code>true</code> for one node.</p><pre><code class="language-julia hljs">addcellset!(grid, &quot;left&quot;, Set((1,3))) #add cells with id 1 and 3 to cellset left
addcellset!(grid, &quot;right&quot;, x -&gt; norm(x[1]) &lt; 2.0 ) #add cell to cellset right, if x[1] of each cell&#39;s node is smaller than 2.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/utils.jl#L6-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.addfacetset!" href="#Ferrite.addfacetset!"><code>Ferrite.addfacetset!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">addfacetset!(grid::AbstractGrid, name::String, faceid::AbstractVecOrSet{FacetIndex})
addfacetset!(grid::AbstractGrid, name::String, f::Function; all::Bool=true)</code></pre><p>Adds a facetset to the grid with key <code>name</code>. A facetset maps a <code>String</code> key to a <code>OrderedSet</code> of tuples corresponding to <code>(global_cell_id, local_facet_id)</code>. Facetsets can be used to initialize <code>Dirichlet</code> boundary conditions for the <code>ConstraintHandler</code>. <code>all=true</code> implies that <code>f(x)</code> must return <code>true</code> for all nodal coordinates <code>x</code> on the facet if the facet should be added to the set, otherwise it suffices that <code>f(x)</code> returns <code>true</code> for one node.</p><pre><code class="language-julia hljs">addfacetset!(grid, &quot;right&quot;, Set((FacetIndex(2,2), FacetIndex(4,2)))) #see grid manual example for reference
addfacetset!(grid, &quot;clamped&quot;, x -&gt; norm(x[1]) ≈ 0.0) #see incompressible elasticity example for reference</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/utils.jl#L42-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.addboundaryfacetset!" href="#Ferrite.addboundaryfacetset!"><code>Ferrite.addboundaryfacetset!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>addboundaryfacetset!(grid::AbstractGrid, topology::ExclusiveTopology, name::String, f::Function; all::Bool=true)</p><p>Adds a boundary facetset to the grid with key <code>name</code>. A facetset maps a <code>String</code> key to a <code>OrderedSet</code> of tuples corresponding to <code>(global_cell_id, local_facet_id)</code>. Facetsets are used to initialize <code>Dirichlet</code> structs, that are needed to specify the boundary for the <code>ConstraintHandler</code>. <code>all=true</code> implies that <code>f(x)</code> must return <code>true</code> for all nodal coordinates <code>x</code> on the facet if the facet should be added to the set, otherwise it suffices that <code>f(x)</code> returns <code>true</code> for one node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/utils.jl#L104-L113">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.addvertexset!" href="#Ferrite.addvertexset!"><code>Ferrite.addvertexset!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">addvertexset!(grid::AbstractGrid, name::String, faceid::AbstractVecOrSet{FaceIndex})
addvertexset!(grid::AbstractGrid, name::String, f::Function)</code></pre><p>Adds a vertexset to the grid with key <code>name</code>. A vertexset maps a <code>String</code> key to a <code>OrderedSet</code> of tuples corresponding to <code>(global_cell_id, local_vertex_id)</code>. Vertexsets can be used to initialize <code>Dirichlet</code> boundary conditions for the <code>ConstraintHandler</code>.</p><pre><code class="language-julia hljs">addvertexset!(grid, &quot;right&quot;, Set((VertexIndex(2,2), VertexIndex(4,2))))
addvertexset!(grid, &quot;clamped&quot;, x -&gt; norm(x[1]) ≈ 0.0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/utils.jl#L63-L75">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.addboundaryvertexset!" href="#Ferrite.addboundaryvertexset!"><code>Ferrite.addboundaryvertexset!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>addboundaryvertexset!(grid::AbstractGrid, topology::ExclusiveTopology, name::String, f::Function; all::Bool=true)</p><p>Adds a boundary vertexset to the grid with key <code>name</code>. A vertexset maps a <code>String</code> key to an <code>OrderedSet</code> of tuples corresponding to <code>(global_cell_id, local_vertex_id)</code>. <code>all=true</code> implies that <code>f(x)</code> must return <code>true</code> for all nodal coordinates <code>x</code> on the facet if the facet should be added to the set, otherwise it suffices that <code>f(x)</code> returns <code>true</code> for one node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/utils.jl#L90-L98">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.addnodeset!" href="#Ferrite.addnodeset!"><code>Ferrite.addnodeset!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">addnodeset!(grid::AbstractGrid, name::String, nodeid::AbstractVecOrSet{Int})
addnodeset!(grid::AbstractGrid, name::String, f::Function)</code></pre><p>Adds a <code>nodeset::OrderedSet{Int}</code> to the <code>grid</code>&#39;s <code>nodesets</code> with key <code>name</code>. Has the same interface as <code>addcellset</code>. However, instead of mapping a cell id to the <code>String</code> key, a set of node ids is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/utils.jl#L29-L35">source</a></section></article><h3 id="Multithreaded-Assembly"><a class="docs-heading-anchor" href="#Multithreaded-Assembly">Multithreaded Assembly</a><a id="Multithreaded-Assembly-1"></a><a class="docs-heading-anchor-permalink" href="#Multithreaded-Assembly" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Ferrite.create_coloring" href="#Ferrite.create_coloring"><code>Ferrite.create_coloring</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_coloring(g::Grid, cellset=1:getncells(g); alg::ColoringAlgorithm)</code></pre><p>Create a coloring of the cells in grid <code>g</code> such that no neighboring cells have the same color. If only a subset of cells should be colored, the cells to color can be specified by <code>cellset</code>.</p><p>Returns a vector of vectors with cell indexes, e.g.:</p><pre><code class="language-julia hljs">ret = [
   [1, 3, 5, 10, ...], # cells for color 1
   [2, 4, 6, 12, ...], # cells for color 2
]</code></pre><p>Two different algorithms are available, specified with the <code>alg</code> keyword argument:</p><ul><li><code>alg = ColoringAlgorithm.WorkStream</code> (default): Three step algorithm from Turcksin et al. [<a href="../../cited-literature/#Turcksin2016">12</a>], albeit with a greedy coloring in the second step. Generally results in more colors than <code>ColoringAlgorithm.Greedy</code>, however the cells are more equally distributed among the colors.</li><li><code>alg = ColoringAlgorithm.Greedy</code>: greedy algorithm that works well for structured quadrilateral grids such as e.g. quadrilateral grids from <code>generate_grid</code>.</li></ul><p>The resulting colors can be visualized using <a href="../export/#Ferrite.write_cell_colors"><code>Ferrite.write_cell_colors</code></a>.</p><div class="admonition is-info"><header class="admonition-header">Cell to color mapping</header><div class="admonition-body"><p>In a previous version of Ferrite this function returned a dictionary mapping cell ID to color numbers as the first argument. If you need this mapping you can create it using the following construct:</p><pre><code class="language-julia hljs">colors = create_coloring(...)
cell_colormap = Dict{Int,Int}(
    cellid =&gt; color for (color, cellids) in enumerate(final_colors) for cellid in cellids
)</code></pre></div></div><p><strong>References</strong></p><ul><li>[<a href="../../cited-literature/#Turcksin2016">12</a>] Turcksin et al. ACM Trans. Math. Softw. 43 (2016).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Ferrite-FEM/Ferrite.jl/blob/b099103eb40047015f10657b95845fc25fd2823a/src/Grid/coloring.jl#L160-L197">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../boundary_conditions/">« Boundary conditions</a><a class="docs-footer-nextpage" href="../export/">Postprocessing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.2 on <span class="colophon-date" title="Tuesday 14 October 2025 06:59">Tuesday 14 October 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
